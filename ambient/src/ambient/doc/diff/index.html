<!DOCTYPE html>
<html>
<head> 
<title>Ambient: parallel C++</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
<link href='http://fonts.googleapis.com/css?family=Pontano+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Reenie+Beanie' rel='stylesheet' type='text/css'>
<link href="css/general.css"  rel="stylesheet" type="text/css"/>
<link media="handheld, only screen and (max-width: 480px), only screen and (max-device-width: 854px)" href="css/mobile.css" rel="stylesheet" type="text/css"/>

<script src="scripts/jquery/jquery-latest.js"></script>
<script src="scripts/jquery/jquery-ui.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js"></script>
<script src="scripts/jquery/events.js">// ~ denepdency //</script>
<script src="scripts/jquery/jquery.color.js"></script>
<script src="scripts/jquery/jquery.mousewheel.min.js"></script>
<script src="scripts/common.js"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46656307-1', 'comp-phys.org');
  ga('send', 'pageview');

</script>
</head> 

<body>
<section id="header">
    <div id="menu">
    </div>
</section>

<div id="cover" style="display: table; position: absolute; top: 0px; z-index: 1; width: 100%; height: 100%;">

<section class="content" id="intro">
<div class="cell" style="box-shadow: 0px 5px 25px black;">
    <div id="logo" style="font-family: 'Reenie Beanie', cursive; font-size: 72px;">m<div style="position: absolute; font-family: Helvetica Neue; font-size: 44px; color: #222; display: inline-block; margin-top: 12px; margin-left: 22px;">Ambient<span style="font-size: 12px; display: block;">Dataflow paradigm in C++</span></div></div>
    <!--div id="motto">
           Enable parallelism in C++ applications under Linux and OS X.<br>
           Find us on <a href="https://github.com/AlexEngy/ambient" target="_blank">GitHub</a> or download <a href="resource/ambient.src.01.04.14.tar.gz">source code</a> (BSD License).
    </div-->
    <div id="more" style="display: block; position: absolute; bottom: 0px; padding-bottom: 15px; left: 50%; margin-left: -35px;">
        Learn more<img src="images/down.png" style="position: relative; top: 13px; width: 40px; -webkit-filter: invert(100%);">
    </div>
</div>
</section>

</div>

<section class="content" id="home" style="background-color: #232323;">
<div class="cell"><div class="cell-center">

<div id="example-view-container"><div id="example-view"></div></div>
<div style="display: inline-block;">
<img src="images/key1.png" style="height: 50px; opacity: .85; -webkit-filter: invert(100%);">

<p style="color: #999;">
Use our datatypes or create your own by marking fields as "delegated".<br> 
Algorithm working with delegated objects will be transformed into an <br>
execution graph and traversed in parallel.<br>
</p>
</div><div style="display: inline-block; position: relative; width: 129px; background-color: transparent; margin-left: 100px; color: #ccc;">

Examples:<br>
<br>
<div class="example-link" data-target="vector">ambient::vector</div><br>
<div class="example-link" data-target="tiles">ambient::tiles<Matrix></div><br>
<div class="example-link" data-target="custom">custom datatype</div><br>
<div class="example-content" id="vector">
<!--{{{-->
<pre class="example"><code><span class="highlight">#include "ambient/ambient.hpp"</span>

// zero initialised vectors
<span class="highlight">ambient::vector&lt;int&gt;</span> a(100);
<span class="highlight">ambient::vector&lt;int&gt;</span> b(100);

// increment every entry of b
int increment = 13;
<span class="highlight">ambient::for_each</span>(b.begin(), b.end(), 
    [&amp;](int&amp; value){ value += increment; });

// add a with b and place into a
<span class="highlight">ambient::transform</span>(a.begin(), a.end(), b.begin(), a.begin(), 
    [](int a_, int b_){ return a_ + b_; });

// reverse vector a using ambient lambda call
<span class="highlight">ambient::lambda</span>([](<span class="highlight">ambient::vector&lt;int&gt;</span>&amp; vec){
    int start = 0;
    int end = get_length(vec);
    int* v = <span class="highlight">ambient::versioned</span>(vec).elements;
    while((start != end) &amp;&amp; (start != --end)){
        std::swap(v[start],v[end]);
        ++start;
    }
})(a);</code></pre>
<!--}}}-->
</div>
<div class="example-content" id="tiles">
<!--{{{-->
<pre class="example"><code><span class="highlight">#include "ambient/numeric/matrix.hpp"</span>

...
<span class="highlight">tiles&lt;Matrix&gt;</span> m4(n, n), d(n*2, n*2);
<span class="highlight">tiles&lt;Matrix&gt;</span> m5(n, n), e(n*2, n*2);
m4 = a.<span class="highlight">subset</span>(0, 0, nt, nt); d = a;
m5 = b.<span class="highlight">subset</span>(0, 0, nt, nt); e = b;
d.<span class="highlight">subset</span>(0,  0,  nt, nt) += a.<span class="highlight">subset</span>(0,  nt, nt, nt); 
d.<span class="highlight">subset</span>(0,  nt, nt, nt) -= a.<span class="highlight">subset</span>(nt, nt, nt, nt); 
d.<span class="highlight">subset</span>(nt, nt, nt, nt) += a.<span class="highlight">subset</span>(nt, 0,  nt, nt); 
d.<span class="highlight">subset</span>(nt, 0,  nt, nt) -= a.<span class="highlight">subset</span>(0,  0,  nt, nt);
e.<span class="highlight">subset</span>(0,  0,  nt, nt) += b.<span class="highlight">subset</span>(0,  nt, nt, nt);
e.<span class="highlight">subset</span>(0,  nt, nt, nt) -= b.<span class="highlight">subset</span>(nt, nt, nt, nt);
e.<span class="highlight">subset</span>(nt, nt, nt, nt) += b.<span class="highlight">subset</span>(nt, 0,  nt, nt);
e.<span class="highlight">subset</span>(nt, 0,  nt, nt) -= b.<span class="highlight">subset</span>(0,  0,  nt, nt);  
m4 += a.<span class="highlight">subset</span>(nt, nt, nt, nt);  
m5 += b.<span class="highlight">subset</span>(nt, nt, nt, nt);
<span class="highlight">gemm_strassen</span>(d.<span class="highlight">subset</span>(0,  nt, nt, nt),
              e.<span class="highlight">subset</span>(nt, nt, nt, nt),
              c.<span class="highlight">subset</span>(0,  0,  nt, nt));
<span class="highlight">gemm_strassen</span>(a.<span class="highlight">subset</span>(0,  0,  nt, nt),
              e.<span class="highlight">subset</span>(0,  nt, nt, nt),
              c.<span class="highlight">subset</span>(0,  nt, nt, nt));
<span class="highlight">gemm_strassen</span>(d.<span class="highlight">subset</span>(nt, nt, nt, nt),
              b.<span class="highlight">subset</span>(0,  0,  nt, nt),
              c.<span class="highlight">subset</span>(nt, 0,  nt, nt));
<span class="highlight">gemm_strassen</span>(d.<span class="highlight">subset</span>(nt, 0,  nt, nt),
              e.<span class="highlight">subset</span>(0,  0,  nt, nt),
              c.<span class="highlight">subset</span>(nt, nt, nt, nt));
<span class="highlight">gemm_strassen</span>(d.<span class="highlight">subset</span>(0,  0,  nt, nt),
              b.<span class="highlight">subset</span>(nt, nt, nt, nt), m2);
<span class="highlight">gemm_strassen</span>(a.<span class="highlight">subset</span>(nt, nt, nt, nt),
              e.<span class="highlight">subset</span>(nt, 0,  nt, nt), m3);
<span class="highlight">gemm_strassen</span>(m4, m5, m1);
c.<span class="highlight">subset</span>(nt, nt, nt, nt) += c.<span class="highlight">subset</span>(0,  nt, nt, nt);
c.<span class="highlight">subset</span>(nt, nt, nt, nt) -= c.<span class="highlight">subset</span>(nt, 0,  nt, nt);
c.<span class="highlight">subset</span>(0,  0,  nt, nt) += m1;
c.<span class="highlight">subset</span>(nt, nt, nt, nt) += m1;
c.<span class="highlight">subset</span>(0,  nt, nt, nt) += m2;
c.<span class="highlight">subset</span>(0,  0,  nt, nt) -= m2;
c.<span class="highlight">subset</span>(0,  0,  nt, nt) += m3;
c.<span class="highlight">subset</span>(nt, 0,  nt, nt) += m3;</code></pre>
<!--}}}-->
</div>
<div class="example-content" id="custom">
<!--{{{-->
<pre class="example"><code><span class="highlight">#include "ambient/ambient.hpp"</span>

template &lt;typename T&gt;
class vector {
public:
<span class="highlight">AMBIENT_DELEGATE</span>
(
    T data[ AMBIENT_VAR_LENGTH ];
)
    vector(size_t length)
    : <span class="highlight">AMBIENT_ALLOC</span>(length, sizeof(T)) 
    { }
};

namespace detail {
    template&lt;typename T&gt;
    void add(vector&lt;T&gt;&amp; a, const vector&lt;T&gt;&amp; b){
        T* a_ = <span class="highlight">ambient::versioned</span>(a).data;
        T* b_ = <span class="highlight">ambient::versioned</span>(b).data;
        for(size_t i = 0; i < get_length(a); ++i) 
            a_[i] += b_[i];
    }
}

<span class="highlight">AMBIENT_EXPORT</span>(detail::add, add);</code></pre>
<!--}}}-->
</div>

</div>

<div id="continue" style="display: block; position: absolute; bottom: -50%; left: 50%; padding-bottom: 15px; margin-left: -35px; color: #CCC;">
    How fast?<img src="images/down.png" style="position: relative; top: 13px; width: 40px;">
</div>

</div>
</div>
</section>
<section class="content" id="services">
<div class="cell"><div class="cell-center">

<img src="images/key2.png" style="height: 60px; opacity: .85;">
<p>...</p>


</div></div>
</section>
<section class="content" id="partners">
<div class="cell"><div class="cell-center">
<center>
<a href="http://www.ethz.ch/en.html" target="_blank"><img class="sponsor" id="eth" src="images/logos/eth.png"></a>
<a href="http://unige.ch" target="_blank"><img class="sponsor" id="unige" src="images/logos/unige.jpg"></a>
<a href="http://cscs.ch" target="_blank"><img class="sponsor" id="cscs" src="images/logos/cscs.jpg"></a>
</center>
</div></div>
</section>
</body> 
</html>
