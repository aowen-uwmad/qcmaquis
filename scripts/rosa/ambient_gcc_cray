#!/bin/bash -l
STATE="build"
STATE_AMBIENT="build"
STATE_DMRG="build"
# end of target states #
SHARED_FS=true
PREFIX=ambient
COMPILER=gcc
COMPILER_VERSION=4.7.2
MPI_WRAPPER=cray
MPI_WRAPPER_VERSION=1.0-cray
BOOST=boost
BOOST_VERSION=1.53.0
CMAKE=cmake

export BOOST_ROOT=/project/h07/BOOST_1_53_ROSA/

module load PrgEnv-gnu

## common ##
THREADING_FLAGS="-fopenmp -DAMBIENT_OMP"
COMMON_CMAKE_CXX_FLAGS="-std=c++11 -O3 -DNDEBUG -w -Wfatal-errors $THREADING_FLAGS -L/project/h07/PLASMA/lib"
COMMON_CMAKE_C_COMPILER=cc
COMMON_CMAKE_CXX_COMPILER=CC
COMMON_MPI_CXX_FOUND=FALSE
## ambient ##
AMBIENT_BOOST_BINDINGS_INCLUDE=/project/h07/ALPS_ROSA/include
AMBIENT_SCALAPACK_LIBRARY=" "
AMBIENT_PLASMA_LIBRARY="-lplasma -lcoreblas -lcblas -llapacke -lquark"
AMBIENT_ENABLE_REGRESSION_PERFORMANCE=OFF
AMBIENT_ENABLE_REGRESSION_FUNCTIONAL=OFF
## dmrg ##
DMRG_DEFAULT_BLAS_LAPACK=manual
DMRG_CMAKE_CXX_FLAGS_RELEASE="$COMMON_CMAKE_CXX_FLAGS"
DMRG_BLAS_LAPACK_MANUAL_LIBS="$AMBIENT_PLASMA_LIBRARY"
DMRG_ALPS_ROOT_DIR=/project/h07/ALPS_ROSA 
DMRG_BUILD_REGRESSION=OFF
DMRG_BUILD_AMBIENT=ON
DMRG_USE_AMBIENT=ON

source $ROOT_DIR/scripts/common/common.sh 
execute $*
